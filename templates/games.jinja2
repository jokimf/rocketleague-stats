<!DOCTYPE html>
<html lang="en" style="display:  inline-block">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>RL - Games</title>
    <link rel="icon" href="https://jok.im/static/icons/rl_cg_logo_grey.png">
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <script src="https://d3js.org/d3.v6.js"></script>
    <link rel="stylesheet" href="https://jok.im/static/standard.css">
</head>
<style>
    table {
        border-collapse: collapse;
        font-style: normal;
        font-size: smaller;
        margin-right: auto;
        margin-left: auto;
    }


    td, th {
        border: 1px solid #999;
        padding: 0.5rem;
        text-align: center;
    }

    th {
        background-color: #1c1c1c;
        color: white;
        border: 1px solid #101010;
        font-weight: bold;
    }

    table tr:nth-child(even) {
        background-color: #2b2b2b;
    }

    td {
        border: 1px solid #232323;
    }

    .mvp_highlighting_table_cell {
        border: 2px double darkgoldenrod !important;
    }

    .result_highlighting_table_cell {
    }
</style>
<body>
<header>
    <div class="header_container">
        <a href="/rl"><img src="https://jok.im/static/icons/rl_cg_logo_grey.png" alt="CG" width="50" height="50"></a>
        <a id="headline" href="/rl">ROCKET LEAGUE</a>
        <nav>
            <ul>
                <li><a href="/rl">Dashboard</a></li>
                <li><a href="/rl/records">Records</a></li>
                <li><a href="/rl/graphs">Graphs</a></li>
                <li><a class="here" href="/rl/games">Games</a></li>
            </ul>
        </nav>
    </div>
</header>
<div class="website-center-setup">
    <!--<div id="my_dataviz"></div>-->
    <table>
        <th>#</th>
        <th>DATE</th>
        <th>G</th>
        <th>A</th>
        <th>R</th>
        <th>S</th>
        <th>G</th>
        <th>A</th>
        <th>S</th>
        <th>S</th>
        <th>R</th>
        <th>S</th>
        <th>G</th>
        <th>A</th>
        <th>S</th>
        <th>S</th>
        <th>R</th>
        <th>S</th>
        <th>G</th>
        <th>A</th>
        <th>S</th>
        <th>S</th>

        {% for row in games %}
            <tr>
                {% for data in row %}
                    <td {% if loop.index not in [1,2,3,4,5,11,17] %}
                        style="background-color:{{ cf(last_games_highlighting[loop.index][0],data, last_games_highlighting[loop.index][1], last_games_highlighting[loop.index][2]) }};"
                    {% elif loop.index in [5,11,17] %}
                        style="background-color:{{ cf(last_games_highlighting[loop.index][0],row[loop.index], last_games_highlighting[loop.index][1], last_games_highlighting[loop.index][2]) }};"
                    {% elif loop.index == 3 or loop.index == 4 %}
                        {% if row[2] > row[3] and loop.index == 3 %}
                        style="background-color: rgba(30,133,30,0.4)"
                        class="result_highlighting_table_cell"
                        {% elif row[3] > row[2] and loop.index == 4 %}
                        style="background-color: rgba(133,30,30,0.4)"
                        class="result_highlighting_table_cell"
                        {% endif %}
                    {% endif %}
                            {% if row[5] > row[11] and row[5] > row[17] and loop.index == 6 or row[5] < row[11] and row[11] > row[17] and loop.index == 12 or row[17] > row[11] and row[5] < row[17] and loop.index == 18 %}
                        class="mvp_highlighting_table_cell"
                            {% endif %}
                    >
                        {% if loop.index not in [5,11,17] %}
                            {{ data }}
                        {% else %}
                            <img src="https://jok.im/static/rl/ranks/{{ data.lower() }}.png"
                                 alt="{{ data }}" width="20" height="20">
                        {% endif %}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>
</div>
</body>
<script src="{{ url_for('static',filename='heatmap.js') }}"></script>
</html>